<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN" "http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd" [
<!ENTITY app-author "Mike Massonnet">
<!ENTITY app-email "mmassonnet@xfce.org">
<!ENTITY app-website "http://goodies.xfce.org/projects/panel-plugins/xfce4-clipman-plugin">
<!ENTITY doc-author "Mike Massonnet">
<!ENTITY doc-email "mmassonnet@xfce.org">
<!ENTITY date "April, July 2009">
<!ENTITY application "@PACKAGE_NAME@">
<!ENTITY version "1.0.1">
<!ENTITY bugtracker "@PACKAGE_BUGREPORT@">
]>
<article id="xfce4-clipman-plugin" lang="ja">

  <!-- Header -->
  <articleinfo>
    <title>@PACKAGE_NAME@ 説明書</title>

    <pubdate>&date;</pubdate>

    <copyright>
      <year>2009</year>
      <holder>&doc-author;</holder>
    </copyright>

    <legalnotice id="legalnotice">
      <para>フリーソフトウェア財団が公表する GNU フリー文書利用許諾契約書の第1.3版、あるいはそれ以降のいずれかの版の条件下において、この文書の複製、配布および/または変更が許可されます。変更出来ない箇所、表紙文および裏表紙文があってはいけません。この利用許諾契約書の全文は<ulink type="http" url="http://www.fsf.org/">フリーソフトウェア財団</ulink>から取得する事ができます。</para>
    </legalnotice>

    <authorgroup>
      <author>
        <firstname>Mike</firstname>
        <surname>Massonnet</surname>
        <affiliation>
          <address><email>mmassonnet@xfce.org</email></address>
        </affiliation>
      </author>
    </authorgroup>

    <releaseinfo>
      This manual describes version 1.0.1 of @PACKAGE_NAME@.
    </releaseinfo>
  </articleinfo>


  <sect1 id="intro">
    <title>紹介</title>

    <para>@PACKAGE_NAME@ は Xfce 用のクリップボードマネージャです。これは、通常アプリケーションが終了した時に失われてしまうクリップボードの内容を保持します。文字列および画像を扱うことができ、選択された文字列が、指定された正規表現とマッチしたときに任意の処理を実行する機能も持っています。</para>

    <sect2 id="anatomy-clipboard">
      <title>クリップボードの構造</title>

      <para>(すべての Unix プラットフォームにおける) X11 には、デフォルトで、あらゆるウィンドウ間でデータを交換するために 2 つのクリップボードが用意されています。デフォルトクリップボードは、手動のコピー操作 (例えば、ファイルを選択してコピーボタンを押したときなど) によって変更され、プライマリクリップボードは、対象を選択した時点 (例えば、フィールドの文字列を選択したときなど) で変更されます。</para>

      <para>@PACKAGE_NAME@ は、デフォルトクリップボードのみ処理しますが、オプションで選択領域を扱うこともできます。選択領域を扱う場合は、デフォルトクリップボードは常にそれとの同期がとられ、同じ内容になります。これにより、画面上を選択し、それをキーボードで貼り付けることができます。</para>
    </sect2>

    <sect2 id="getting-started">
      <title>始めてみましょう</title>

      <para>@PACKAGE_NAME@ は、クリップボードの履歴を保持し、それらを復元するために使われます。履歴はメインアイコンをクリックして表示されるメニューに表示されます。メニューから、復元するアイテムの選択および履歴のクリアが行えます。</para>

      <figure>
        <title>Clipman メニュー</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/clipman-menu.png" format="PNG"/>
          </imageobject>
          <textobject>
            <phrase>履歴表示メニュー</phrase>
          </textobject>
        </mediaobject>
      </figure>

      <para>@PACKAGE_NAME@ を実行するには 2 つの方法があります。一つは、アプリケーションメニューのアクセサリ配下にある @PACKAGE_NAME@ を選択するか、コマンドラインから <application>xfce4-clipman</application> と入力して起動する方法、もう一つはパネルに追加する方法です。パネルに新しいアイテムを追加するには、パネルを右クリックして「新しいアイテムの追加」を選択してください。</para>
    </sect2>

    <sect2 id="popup-command">
      <title>ポップアップコマンド</title>

      <para>@PACKAGE_NAME@ はコマンドラインツール <application>xfce4-popup-clipman</application> を提供しています。これはコマンドが実行されるとメインメニューをポップアップするもので、<menuchoice><guimenu>Xfce メニュー</guimenu><guimenu>設定</guimenu><guimenu>キーボード</guimenu></menuchoice> にある <emphasis role="bold">アプリケーションショートカット</emphasis> に設定する際に役立ちます。</para>
    </sect2>

  </sect1>


  <sect1 id="settings">
    <title>設定</title>

    <para>設定ダイアログは、メインアイコン上の右クリックで表示されるコンテキストメニューの「プロパティ」アイテムを選ぶと表示されます。ここでは履歴の設定およびアクションの編集が行えます。</para>

    <sect2 id="general">
      <title>「一般」タブ</title>

      <para>以下の表は、利用可能なオプションについて説明しています:</para>

      <table frame="all"><title>設定ダイアログでの一般オプション</title>
      <tgroup cols="2" align="left">
      <thead>
      <row>
        <entry>オプション</entry>
        <entry>説明</entry>
      </row>
      </thead>
      <tbody>
      <row>
        <entry>選択領域と同期をとる</entry>
	<entry>領域を選択しただけで貼り付けできるよう、プライマリクリップボードとデフォルトクリップボードの同期がとられます</entry>
      </row>
      <row>
        <entry>履歴に残さない</entry>
        <entry>プライマリクリップボードの内容を履歴に格納しません</entry>
      </row>
      <row>
        <entry>終了時に保存する</entry>
        <entry>履歴を保存し、新しいセッション開始時に復元します</entry>
      </row>
      <row>
        <entry>画像を格納する</entry>
        <entry>履歴に画像を格納することができます</entry>
      </row>
      <row>
        <entry>履歴のサイズ</entry>
        <entry>文字列履歴に保持するアイテム数を設定します</entry>
      </row>
      </tbody>
      </tgroup>
      </table>

      <figure>
        <title>Clipman 設定</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/clipman-settings-general.png" format="PNG"/>
          </imageobject>
          <textobject>
            <phrase>設定ダイアログ - 「一般」タブ</phrase>
          </textobject>
        </mediaobject>
      </figure>

    </sect2>

    <sect2 id="actions">
      <title>「アクション」タブ</title>

      <para>一つのアクションは、アクション名と正規表現の組み合わせからなります。各アクションは一つ以上のコマンドを持つことができます。アクションのサポートは任意であり、「アクションを有効にする」オプションにより有効/無効を切り換えることができます。</para>

      <para>アクションを追加するには追加アイコンをクリックし、編集するにはアクションを選択して編集アイコンをクリックするかアクションをダブルクリックし、削除するにはアクションを選択して削除アイコンをクリックします。アクションの追加または編集により新しいダイアログが表示されます。</para>

      <para>アクションについてのより詳しい情報は、<xref linkend="action-dialog"/> を参照してください。</para>

      <figure>
        <title>Clipman 設定</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/clipman-settings-actions.png" format="PNG"/>
          </imageobject>
          <textobject>
            <phrase>設定ダイアログ - 「アクション」タブ</phrase>
          </textobject>
        </mediaobject>
      </figure>

    </sect2>

    <sect2 id="action-dialog">
      <title>アクションダイアログ</title>

      <para>アクションはマッチするパターンを説明する名前を持つことができます。アクションは少なくとも一つのコマンドと、その名前を持たなければなりません。マッチした文字列はコマンド内で再利用できます。</para>

      <para>アクションは、他で指定されない限り、常に選択された文字列に対してマッチされます。「手動コピー時のみアクティブにする」にチェックマークをつけると、アクションはデフォルトクリップボードに対してのみマッチされます (例えば Ctrl+C が押下されたときなど)。</para>

      <figure>
        <title>アクションダイアログ</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/clipman-action-dialog.png" format="PNG"/>
          </imageobject>
          <textobject>
            <phrase>「アクションの編集」ダイアログ</phrase>
          </textobject>
        </mediaobject>
      </figure>

      <sect3 id="regexes">
        <title>正規表現</title>

        <para>基本特殊文字: "<emphasis role="bold"><code>.?+*(|)[]\</code></emphasis>".</para>

        <itemizedlist>
          <listitem>“<emphasis role="bold"><code>.</code></emphasis>”: 任意の一文字にマッチします。</listitem>
          <listitem>“<emphasis role="bold"><code>?+*</code></emphasis>”: それぞれ、直前の文字が 0 個か 1 個、1 個以上、および 0 個以上あるときにマッチします。</listitem>
          <listitem>“<emphasis role="bold"><code>(|)</code></emphasis>”: グループ化と置換に使用されます。バーチカルバー“|”は論理和演算子として使用されます。</listitem>
          <listitem>“<emphasis role="bold"><code>[^]</code></emphasis>”: 括弧内に含まれる 1 個の文字または特殊文字にマッチします。サーカムフレックス“^”が先頭にあると論理否定となり、括弧内に含まれない 1 個の文字または特殊文字にマッチします。</listitem>
          <listitem>“<emphasis role="bold"><code>\</code></emphasis>”: 特殊文字をエスケープします。</listitem>
        </itemizedlist>

        <para>基本英数字クラス: "<emphasis role="bold"><code>A-Za-z0-9</code></emphasis>"。文字クラスは文字のセットにマッチさせるために角括弧“[]”内で使用されます。</para>


        <sect4 id="regexes-examples">
          <title>例</title>

          <itemizedlist>
            <listitem>"<emphasis role="bold"><code>bug ?#?[0-9]+</code></emphasis>": 文字列 "<emphasis>bug</emphasis>"、0 個か 1 個のスペース、0 個か 1 個の番号記号“#”、および 1 個以上の番号にマッチする。</listitem>
            <listitem>"<emphasis role="bold"><code>(http|ftp).+\.(jpg|png|gif)</code></emphasis>": 文字列 "<emphasis>http</emphasis>" または "<emphasis>ftp</emphasis>"、1 個以上の文字、ピリオド“.”、および文字列 "<emphasis>jpg</emphasis>"、"<emphasis>png</emphasis>"、あるいは "<emphasis>gif</emphasis>" にマッチする。</listitem>
            <listitem>"<emphasis role="bold"><code>http://.{120}[^ ]+</code></emphasis>": 文字列 "<emphasis>http://</emphasis>"、120 個の文字、および 1 個以上のスペース以外の文字にマッチする。</listitem>
          </itemizedlist>
        </sect4>

        <sect4 id="regexes-external-ressource">
          <title>その他の情報</title>

          <para>正規表現については、<ulink type="http" url="http://ja.wikipedia.org/wiki/正規表現">Wikipedia の記事</ulink>などを参照してください。</para>
        </sect4>
      </sect3>

      <sect3 id="command">
        <title>コマンド</title>

        <para>コマンドは正規表現から 1 個以上の置換文字列を再利用することができます。置換文字列は“<emphasis role="bold"><code>\&lt;number&gt;</code></emphasis>”で表され、&lt;number&gt; はパターン内の丸括弧“()”で括られたサブパターンの順番 (一番左が 1) に、0 は完全な文字列に対応します。</para>

        <para>例えば、シンプルなパターン“<emphasis role="bold"><code>bug #(123)</code></emphasis>”では、“<emphasis role="bold"><code>\0</code></emphasis>”が文字列“bug #123”に、“<emphasis role="bold"><code>\1</code></emphasis>”が文字列“123”に置き換えられます。コマンド“<code>exo-open http://host/\1</code>”の場合、実際に実行されるコマンドは“<code>exo-open http://host/123</code>”になります。</para>
      </sect3>
    </sect2>

    <sect2 id="xfconf">
      <title>Xfconf</title>

      <para>@PACKAGE_NAME@ は、その設定の保存に Xfconf を使用します。これにより <application>xfconf-query</application> や <application>xfce4-settings-editor</application> ツールでも設定の変更が行えます。チャンネルは <constant>xfce4-panel</constant>、ベースプロパティは <constant>/plugins/clipman</constant> です。以下の表は設定可能な値のリストです。</para>

      <table frame="all"><title>Xfconf プロパティ</title>
      <tgroup cols="4" align="left">
      <thead>
      <row>
        <entry>プロパティ</entry>
        <entry>データ型</entry>
        <entry>デフォルト</entry>
        <entry>値</entry>
      </row>
      </thead>
      <tbody><row><entry>/settings/add-primary-clipboard</entry><entry>bool</entry><entry>false</entry><entry>ture でプライマリクリップボードとデフォルトクリップボードの同期をとります</entry></row><row><entry>/settings/enable-actions</entry><entry>bool</entry><entry>false</entry><entry>true でアクションを有効にします</entry></row><row><entry>/settings/history-ignore-primary-clipboard</entry><entry>bool</entry><entry>false</entry><entry>true でプライマリクリップボードの内容を履歴に残しません</entry></row> false <row><entry>/settings/max-images-in-history</entry><entry>uint</entry><entry>0</entry><entry>0-5 画像履歴の数です</entry></row><row><entry>/settings/max-texts-in-history</entry><entry>uint</entry><entry>10</entry><entry>5-100 文字列履歴の数です</entry></row><row><entry>/settings/save-on-quit</entry><entry>bool</entry><entry>true</entry><entry>true で新しいセッション開始時に履歴を復元します</entry></row></tbody>
      </tgroup>
      </table>

      <para>ターミナルからコマンドラインで設定を変更するには:</para>

      <literal><![CDATA[xfconf-query -c xfce4-panel -p /plugins/clipman/<property> -s <value>]]></literal>
    </sect2>
  </sect1>

  <sect1 id="support">
    <title>サポート</title>

    <para>バグの報告や要望は、<ulink type="http" url="@PACKAGE_BUGREPORT@">@PACKAGE_BUGREPORT@</ulink> にあるバグ追跡システムを使用して下さい。このソフトウェアの使い方に関する質問があれば、<ulink type="http" url="http://foo-projects.org/mailman/listinfo/xfce">Xfce メーリングリスト</ulink> で尋ねるか、IRC クライアントで <emphasis role="bold">irc.freenode.net</emphasis> のチャンネル <emphasis role="bold">#xfce</emphasis> に参加し、助けを求めてみてください。</para>
  </sect1>


  <sect1 id="about">
    <title>@PACKAGE_NAME@ について</title>

    <para>@PACKAGE_NAME@ は Eduard Roccatello によって製作され、Nick Schermer によってメンテナンスされていました。現在は Mike Massonnet (<email>mmassonnet@xfce.org</email>) によって製作されています。より詳しい情報は <ulink type="http" url="http://goodies.xfce.org/projects/panel-plugins/xfce4-clipman-plugin">@PACKAGE_NAME@ ウェブサイト</ulink> を参照してください。</para>

    <para>この文書は Mike Massonnet (<email>mmassonnet@xfce.org</email>) が製作しました。この説明書に関するコメントやご提案は <email>mmassonnet@xfce.org</email> までお願いします。</para>

    <para>このソフトウェアはフリーソフトウェア財団が公表する <citetitle>GNU 一般公衆利用許諾契約書</citetitle>の条件下に配布されています。第2版あるいは、(あなたが選ぶ) それ以降の版のいずれかが適用されます。</para>

    <para>このプログラムには、<citetitle>GNU 一般公衆利用許諾契約書</citetitle>のコピーが附属するはずですが、もし無いのであればフリーソフトウェア財団 (51 Franklin Street, Fifth Floor, Boston, MA 02110, USA) に連絡してください。</para>
  </sect1>

</article>

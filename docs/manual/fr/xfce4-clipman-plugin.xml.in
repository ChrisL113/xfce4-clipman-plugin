<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN" "http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd" [
<!ENTITY app-author "Mike Massonnet">
<!ENTITY app-email "mmassonnet@xfce.org">
<!ENTITY app-website "http://goodies.xfce.org/projects/panel-plugins/xfce4-clipman-plugin">
<!ENTITY doc-author "Mike Massonnet">
<!ENTITY doc-email "mmassonnet@xfce.org">
<!ENTITY date "April, July 2009">
<!ENTITY application "@PACKAGE_NAME@">
<!ENTITY version "@PACKAGE_VERSION@">
<!ENTITY bugtracker "@PACKAGE_BUGREPORT@">
]>
<article id="xfce4-clipman-plugin" lang="fr">

  <!-- Header -->
  <articleinfo>
    <title>Manuel de @PACKAGE_NAME@</title>

    <pubdate>&date;</pubdate>

    <copyright>
      <year>2009</year>
      <holder>&doc-author;</holder>
    </copyright>

    <legalnotice id="legalnotice">
      <para>
        Permission is granted to copy, distribute and/or modify this document under the terms of the GNU Free
        Documentation License, Version 1.3 or any later version published by the Free Software Foundation; with no
        Invariant Sections, with no Front-Cover Texts, and with no Back-Cover Texts. The complete license text is
        available from the <ulink type="http" url="http://www.fsf.org/">Free Software Foundation</ulink>.
      </para>
    </legalnotice>

    <authorgroup>
      <author>
        <firstname>Mike</firstname>
        <surname>Massonnet</surname>
        <affiliation>
          <address><email>mmassonnet@xfce.org</email></address>
        </affiliation>
      </author>
    </authorgroup>

    <releaseinfo>Ce manuel décrit la version @PACKAGE_VERSION@ de @PACKAGE_NAME@.</releaseinfo>
  </articleinfo>


  <sect1 id="intro">
    <title>Introduction</title>

    <para>@PACKAGE_NAME@ est un gestionnaire de presse-papier pour Xfce. Il conserve le contenu du presse-papier tandis qu'il est habituellement perdu lors de la fermeture d'une application. Il est capable de gérer du texte et des images, et possède une fonctionnalité pour exécuter des actions sur du texte spécifique en le comparant à des expressions régulières.</para>

    <sect2 id="anatomy-clipboard">
      <title>Anatomie d'une presse-papier</title>

      <para>Dans X11 (toutes les plateformes Unix) il y a par défaut deux presses-papiers pour échanger des données à travers les fenêtres. Un presse-papier par défaut qui est modifié lors d'une copie manuelle (par exemple en sélectionnant un fichier et en cliquant sur le bouton Copier), et un presse-papier primaire qui est modifié lors des sélections de textes.</para>

      <para>@PACKAGE_NAME@ gère uniquement le presse-papier par défault, mais peut également prendre en compte les sélections. Lorsqu'il gère les sélections, le presse-papier par défaut est toujours synchronisé avec celui-ci et contient les mêmes données. De ce fait il est possible de coller avec le clavier ce qui est sélectionné sur l'écran.</para>
    </sect2>

    <sect2 id="getting-started">
      <title>Démarrer</title>

      <para>@PACKAGE_NAME@ est utilisé pour garder une liste d'historique des éléments du presse-papier et permet de les restaurer. L'historique est afficher dans un menu accessible depuis l'icône principale. Dans le menu il est possible de restaurer un texte ou de vider l'historique.</para>

      <figure>
        <title>Menu Clipman</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/clipman-menu.png" format="PNG"/>
          </imageobject>
          <textobject>
            <phrase>Menu affichant l'historique</phrase>
          </textobject>
        </mediaobject>
      </figure>

      <para>Il y a deux manières pour exécuter @PACKAGE_NAME@. Vous pouvez sélectionner @PACKAGE_NAME@ dans le menu des applications sous la catégorie Utilitaire ou lancer la commande <application>xfce4-clipman</application> depuis une ligne de commande, ou vous pouvez l'ajouter dans le panneau. Pour ajouter un nouvel élément dans le panneau cliquez du bouton droit sur le panneau et choississez « Ajouter un item… ».</para>
    </sect2>

    <sect2 id="popup-command">
      <title>Commande de popup</title>

      <para>@PACKAGE_NAME@ fournit l'outil <application>xfce4-popup-clipman</application>. Lorsqu'il est invoqué le menu principal est affiché. La commande est pratique pour les <emphasis role="bold">Raccourcis d'applications</emphasis> accessible dans <menuchoice><guimenu>Menu Xfce</guimenu><guimenu>Paramètres</guimenu><guimenu>Clavier</guimenu></menuchoice>.</para>
    </sect2>

  </sect1>


  <sect1 id="settings">
    <title>Paramètres</title>

    <para>Le dialogue de paramètres est disponible via l'item « Propriétés » depuis le menu contextuel clic-droit sur l'icône principale. Il permet d'affiner l'historique et d'éditer les actions.</para>

    <sect2 id="general">
      <title>Général</title>

      <para>
        The following table describes the available options:
      </para>

      <table frame="all"><title>General options in the Settings dialog</title>
      <tgroup cols="2" align="left">
      <thead>
      <row>
        <entry>Options</entry>
        <entry>Description</entry>
      </row>
      </thead>
      <tbody>
      <row>
        <entry>Sync selections</entry>
	<entry>Sync the primary clipboard with the default clipboard in a way that it is possible to paste what gets
	selected</entry>
      </row>
      <row>
        <entry>Exclude from history</entry>
        <entry>Prevents the primary clipboard from being inserted in the history</entry>
      </row>
      <row>
        <entry>Save on quit</entry>
        <entry>Keeps the history at every new session</entry>
      </row>
      <row>
        <entry>Store an image</entry>
        <entry>Allows to store one image in the history</entry>
      </row>
      <row>
        <entry>Size of the history</entry>
        <entry>Sets the number of items to keep in history</entry>
      </row>
      </tbody>
      </tgroup>
      </table>

      <figure>
        <title>Clipman Settings</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/clipman-settings-general.png" format="PNG"/>
          </imageobject>
          <textobject>
            <phrase>Settings dialog with the General tab</phrase>
          </textobject>
        </mediaobject>
      </figure>

    </sect2>

    <sect2 id="actions">
      <title>Actions</title>

      <para>
        An action is a pair of an action name and a regular expression. Each action can have one or more commands. The
        support of actions is optional and can be enabled or disabled through the “Enable actions” option.
      </para>

      <para>
        To add an action click the Add icon, to edit an action select the action and click the Edit icon or double click
        the action, and to remove an action select an action and click the Delete icon. By adding or editing an action a
        new dialog is opened.
      </para>

      <para>
        To learn more about actions go to <xref linkend="action-dialog"/>.
      </para>

      <figure>
        <title>Clipman Settings</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/clipman-settings-actions.png" format="PNG"/>
          </imageobject>
          <textobject>
            <phrase>Settings dialog with the Actions tab</phrase>
          </textobject>
        </mediaobject>
      </figure>

    </sect2>

    <sect2 id="action-dialog">
      <title>Action Dialog</title>

      <para>
        An action has a human readable name that describes the pattern it is going to match. An action must have at
        least one command which also has a human readable name. The matched text can be reused in the command.
      </para>

      <para>
        The actions are always matched against text selections unless specified otherwise. When the box “Activate only
        on manual copy” is checked, the action will be matched from the default clipboard (e.g. with Ctrl+C).
      </para>

      <figure>
        <title>Action Dialog</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/clipman-action-dialog.png" format="PNG"/>
          </imageobject>
          <textobject>
            <phrase>Action edit dialog</phrase>
          </textobject>
        </mediaobject>
      </figure>

      <sect3 id="regexes">
        <title>Regular Expression</title>

        <para>
          Basic special characters: "<emphasis role="bold"><code>.?+*(|)[]\</code></emphasis>".
        </para>

        <itemizedlist>
          <listitem>
            ”<emphasis role="bold"><code>.</code></emphasis>”: represents a single character.
          </listitem>
          <listitem>
            ”<emphasis role="bold"><code>?+*</code></emphasis>”: respectively means zero or one character, one or more
            characters, and zero or more characters.
          </listitem>
          <listitem>
            ”<emphasis role="bold"><code>(|)</code></emphasis>”: used for grouping and substitution, the vertical bar is
            used as an OR operation.
          </listitem>
          <listitem>
            ”<emphasis role="bold"><code>[^]</code></emphasis>”: used to match a character from a set of characters and
            special characters, the circumflex is used at the start as a negation.
          </listitem>
          <listitem>
            ”<emphasis role="bold"><code>\</code></emphasis>”: escapes a special character.
          </listitem>
        </itemizedlist>

        <para>
          Basic alphanumeric character class: "<emphasis role="bold"><code>A-Za-z0-9</code></emphasis>". Character classes
          are used within square brackets to represent a set of characters.
        </para>


        <sect4 id="regexes-examples">
          <title>Examples</title>

          <itemizedlist>
            <listitem>
              "<emphasis role="bold"><code>bug ?#?[0-9]+</code></emphasis>": text "<emphasis>bug </emphasis>", zero or one
              space, zero or one sharp character, and one or more numbers.
            </listitem>
            <listitem>
              "<emphasis role="bold"><code>(http|ftp).+\.(jpg|png|gif)</code></emphasis>": text
              "<emphasis>http</emphasis>" or "<emphasis>ftp</emphasis>", one or more character, a point, and the text
              "<emphasis>jpg</emphasis>", "<emphasis>png</emphasis>" or "<emphasis>gif</emphasis>".
            </listitem>
            <listitem>
              "<emphasis role="bold"><code>http://.{120}[^ ]+</code></emphasis>": text "<emphasis>http://</emphasis>", 120
              characters, and one or more characters except a space.
            </listitem>
          </itemizedlist>
        </sect4>

        <sect4 id="regexes-external-ressource">
          <title>External Ressource</title>

          <para>
            Have a look at the <ulink type="http" url="http://en.wikipedia.org/wiki/Regular_expression">Wikipedia
            article</ulink> about regular expressions.
          </para>
        </sect4>
      </sect3>

      <sect3 id="command">
        <title>Command</title>

        <para>
          A command can reuse one or more substitutions from the regular expression. The substitutions are represented by
          ”<emphasis role="bold"><code>\&lt;number&gt;</code></emphasis>” where &lt;number&gt; corresponds to the
          sub-pattern within parentheses or 0 for the complete text.
        </para>

        <para>
          For example, from the simple pattern ”<emphasis role="bold"><code>bug #(123)</code></emphasis>” it is possible
          to use ”<emphasis role="bold"><code>\0</code></emphasis>” for the text “bug #123” and ”<emphasis role="bold"><code>\1</code></emphasis>” for the text “123”.  For the command ”<code>exo-open
          http://host/\1</code>”, the real executed command would be ”<code>exo-open http://host/123</code>”.
        </para>
      </sect3>
    </sect2>

    <sect2 id="xfconf">
      <title>Xfconf</title>

      <para>
        @PACKAGE_NAME@ uses Xfconf to store its settings. That allows you to change the settings with the tool
        <application>xfconf-query</application> or <application>xfce4-settings-editor</application>. The channel is
        <constant>xfce4-panel</constant> and the base property is <constant>/plugins/clipman</constant>. The following
        table lists all the properties with their possible values:
      </para>

      <table frame="all"><title>Xfconf Properties</title>
      <tgroup cols="4" align="left">
      <thead>
      <row>
        <entry>Property</entry>
        <entry>Type</entry>
        <entry>Default</entry>
        <entry>Values</entry>
      </row>
      </thead>
      <tbody>
      <row>
        <entry>/settings/add-primary-clipboard</entry>
        <entry>bool</entry>
        <entry>false</entry>
        <entry>true to sync the primary clipboard with the default clipboard</entry>
      </row>
      <row>
        <entry>/settings/enable-actions</entry>
        <entry>bool</entry>
        <entry>false</entry>
        <entry>true to enable actions</entry>
      </row>
      <row>
        <entry>/settings/history-ignore-primary-clipboard</entry>
        <entry>bool</entry>
        <entry>false</entry>
        <entry>true to exclude the primary clipboard from the history</entry>
      </row>
        false

      <row>
        <entry>/settings/max-images-in-history</entry>
        <entry>uint</entry>
        <entry>0</entry>
        <entry>0-5 number of images in history</entry>
      </row>
      <row>
        <entry>/settings/max-texts-in-history</entry>
        <entry>uint</entry>
        <entry>10</entry>
        <entry>5-100 number of texts in history</entry>
      </row>
      <row>
        <entry>/settings/save-on-quit</entry>
        <entry>bool</entry>
        <entry>true</entry>
        <entry>true to restore the history at every new session</entry>
      </row>
      </tbody>
      </tgroup>
      </table>

      <para>
        To change a setting from a terminal type the command-line:
      </para>

      <literal><![CDATA[xfconf-query -c xfce4-panel -p /plugins/clipman/<property> -s <value>]]></literal>
    </sect2>
  </sect1>

  <sect1 id="support">
    <title>Support</title>

    <para>
      To report a bug or a feature request use the bug tracking system at <ulink type="http" url="@PACKAGE_BUGREPORT@">@PACKAGE_BUGREPORT@</ulink>. If you have questions about the use of this software,
      please ask on the <ulink type="http" url="http://foo-projects.org/mailman/listinfo/xfce">Xfce mailing list</ulink>
      or point your IRC client to <emphasis role="bold">irc.freenode.net</emphasis>, join the channel <emphasis role="bold">#xfce</emphasis> and ask for help.
    </para>
  </sect1>


  <sect1 id="about">
    <title>About @PACKAGE_NAME@</title>

    <para>
      @PACKAGE_NAME@ was written by Eduard Roccatello and then maintained by Nick Schermer. Nowadays it is written by
      Mike Massonnet (<email>mmassonnet@xfce.org</email>). Visit the <ulink type="http" url="http://goodies.xfce.org/projects/panel-plugins/xfce4-clipman-plugin">@PACKAGE_NAME@ Web
      site</ulink>.
    </para>

    <para>
      This documentation was written by Mike Massonnet (<email>mmassonnet@xfce.org</email>). Please send all your comments and
      suggestions regarding this manual to <email>mmassonnet@xfce.org</email>.
      
    </para>

    <para>
      This software is distributed under the terms of the <citetitle>GNU General Public License</citetitle> as published
      by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.
    </para>

    <para>
      You should have received a copy of the <citetitle>GNU General Public License</citetitle> along with this program;
      if not, write to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110, USA.
    </para>
  </sect1>

</article>

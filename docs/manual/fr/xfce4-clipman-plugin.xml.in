<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN" "http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd" [
<!ENTITY app-author "Mike Massonnet">
<!ENTITY app-email "mmassonnet@xfce.org">
<!ENTITY app-website "http://goodies.xfce.org/projects/panel-plugins/xfce4-clipman-plugin">
<!ENTITY doc-author "Mike Massonnet">
<!ENTITY doc-email "mmassonnet@xfce.org">
<!ENTITY date "April, July 2009">
<!ENTITY application "@PACKAGE_NAME@">
<!ENTITY version "@PACKAGE_VERSION@">
<!ENTITY bugtracker "@PACKAGE_BUGREPORT@">
]>
<article id="xfce4-clipman-plugin" lang="fr">

  <!-- Header -->
  <articleinfo>
    <title>Manuel de @PACKAGE_NAME@</title>

    <pubdate>&date;</pubdate>

    <copyright>
      <year>2009</year>
      <holder>&doc-author;</holder>
    </copyright><copyright><year>2009</year><holder>Mike Massonnet (mmassonnet@xfce.org)</holder></copyright>

    <legalnotice id="legalnotice">
      <para>
        Permission is granted to copy, distribute and/or modify this document under the terms of the GNU Free
        Documentation License, Version 1.3 or any later version published by the Free Software Foundation; with no
        Invariant Sections, with no Front-Cover Texts, and with no Back-Cover Texts. The complete license text is
        available from the <ulink type="http" url="http://www.fsf.org/">Free Software Foundation</ulink>.
      </para>
    </legalnotice>

    <authorgroup>
      <author>
        <firstname>Mike</firstname>
        <surname>Massonnet</surname>
        <affiliation>
          <address><email>mmassonnet@xfce.org</email></address>
        </affiliation>
      </author>
    </authorgroup>

    <releaseinfo>Ce manuel décrit la version @PACKAGE_VERSION@ de @PACKAGE_NAME@.</releaseinfo>
  </articleinfo>


  <sect1 id="intro">
    <title>Introduction</title>

    <para>@PACKAGE_NAME@ est un gestionnaire de presse-papier pour Xfce. Il conserve le contenu du presse-papier tandis qu'il est habituellement perdu lors de la fermeture d'une application. Il est capable de gérer du texte et des images, et possède une fonctionnalité pour exécuter des actions sur du texte spécifique en le comparant à des expressions régulières.</para>

    <sect2 id="anatomy-clipboard">
      <title>Anatomie d'un presse-papier</title>

      <para>Dans X11 (toutes les plateformes Unix) il y a par défaut deux presses-papiers pour échanger des données à travers les fenêtres. Un presse-papier par défaut qui est modifié lors d'une copie manuelle (par exemple en sélectionnant un fichier et en cliquant sur le bouton Copier), et un presse-papier primaire qui est modifié lors des sélections de textes.</para>

      <para>@PACKAGE_NAME@ gère uniquement le presse-papier par défaut, mais peut également prendre en compte les sélections. Lorsqu'il gère les sélections, le presse-papier par défaut est toujours synchronisé avec celui-ci et contient les mêmes données. De ce fait il est possible de coller avec le clavier ce qui est sélectionné sur l'écran.</para>
    </sect2>

    <sect2 id="getting-started">
      <title>Démarrer</title>

      <para>@PACKAGE_NAME@ est utilisé pour garder une liste d'historique des éléments du presse-papier et permet de les restaurer. L'historique est afficher dans un menu accessible depuis l'icône principale. Dans le menu il est possible de restaurer un texte ou de vider l'historique.</para>

      <figure>
        <title>Menu Clipman</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/clipman-menu.png" format="PNG"/>
          </imageobject>
          <textobject>
            <phrase>Menu affichant l'historique</phrase>
          </textobject>
        </mediaobject>
      </figure>

      <para>Il y a deux manières pour exécuter @PACKAGE_NAME@. Vous pouvez sélectionner @PACKAGE_NAME@ dans le menu des applications sous la catégorie Utilitaire ou lancer la commande <application>xfce4-clipman</application> depuis une ligne de commande, ou vous pouvez l'ajouter dans le panneau. Pour ajouter un nouvel élément dans le panneau cliquez du bouton droit sur le panneau et choississez « Ajouter un item… ».</para>
    </sect2>

    <sect2 id="popup-command">
      <title>Commande de popup</title>

      <para>@PACKAGE_NAME@ fournit l'outil <application>xfce4-popup-clipman</application>. Lorsqu'il est invoqué le menu principal est affiché. La commande est pratique pour les <emphasis role="bold">Raccourcis d'applications</emphasis> accessible dans <menuchoice><guimenu>Menu Xfce</guimenu><guimenu>Paramètres</guimenu><guimenu>Clavier</guimenu></menuchoice>.</para>
    </sect2>

  </sect1>


  <sect1 id="settings">
    <title>Paramètres</title>

    <para>Le dialogue de paramètres est disponible via l'item « Propriétés » depuis le menu contextuel clic-droit sur l'icône principale. Il permet d'affiner l'historique et d'éditer les actions.</para>

    <sect2 id="general">
      <title>Général</title>

      <para>La table suivante décrit les options disponibles :</para>

      <table frame="all"><title>Options générales dans le dialogue de paramètres</title>
      <tgroup cols="2" align="left">
      <thead>
      <row>
        <entry>Options</entry>
        <entry>Description</entry>
      </row>
      </thead>
      <tbody>
      <row>
        <entry>Synchroniser les sélections</entry>
	<entry>Le presse-papier primaire est synchronisé avec le presse-papier par défaut et de cette manière il est possible de coller ce qui est sélectionné</entry>
      </row>
      <row>
        <entry>Exclure de l'historique</entry>
        <entry>Empêche les éléments du presse-papier primaire d'apparaître dans l'historique</entry>
      </row>
      <row>
        <entry>Sauvegarder avant de quitter</entry>
        <entry>Conserve l'historique à chaque nouvelle session</entry>
      </row>
      <row>
        <entry>Stocker une image</entry>
        <entry>Autorise le stockage d'une image dans l'historique</entry>
      </row>
      <row>
        <entry>Taille de l'historique</entry>
        <entry>Définit le nombre d'éléments à conserver dans l'historique</entry>
      </row>
      </tbody>
      </tgroup>
      </table>

      <figure>
        <title>Paramètres de Clipman</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/clipman-settings-general.png" format="PNG"/>
          </imageobject>
          <textobject>
            <phrase>Dialogue de paramètres de l'onglet Général</phrase>
          </textobject>
        </mediaobject>
      </figure>

    </sect2>

    <sect2 id="actions">
      <title>Actions</title>

      <para>Une action est composée de la paire d'un nom et d'une expression régulière. Chaque action peut contenir une à plusieurs commandes. Le support des actions est facultatif et peut être activer ou désactiver en cochant la case « Activer les actions ».</para>

      <para>Pour ajouter une action cliquez sur l'icône Ajouter, pour éditer une action sélectionnez l'action et cliquez sur l'icône Editer ou double cliquez l'action, et pour supprimer une action sélectionnez l'action et cliquez sur l'icône Supprimer. En ajoutant ou en éditant une action un nouveau dialogue est ouvert.</para>

      <para>Pour en savoir plus sur les actions aller à <xref linkend="action-dialog"/>.</para>

      <figure>
        <title>Paramètres de Clipman</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/clipman-settings-actions.png" format="PNG"/>
          </imageobject>
          <textobject>
            <phrase>Dialogue de paramètres avec l'onglet Actions</phrase>
          </textobject>
        </mediaobject>
      </figure>

    </sect2>

    <sect2 id="action-dialog">
      <title>Dialogue d'action</title>

      <para>Une action possède un nom lisible qui décrit le motif qu'elle possède. Une action doit avoir au minimum une commande qui elle aussi possède un nom lisible. Le texte qui est comparé peut être réutilisé dans une commande.</para>

      <para>Les actions sont comparées aux sélections à moins d'être spécifiées autrement. Si la case « Activer uniquement lors des copies manuelles » est active, l'action sera comparée avec le presse-papier par défaut (e.g. avec Ctrl+C).</para>

      <figure>
        <title>Dialogue d'action</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/clipman-action-dialog.png" format="PNG"/>
          </imageobject>
          <textobject>
            <phrase>Dialogue d'édition d'une action</phrase>
          </textobject>
        </mediaobject>
      </figure>

      <sect3 id="regexes">
        <title>Expression régulière</title>

        <para>Caractères spéciaux de base : « <emphasis role="bold"><code>.?+*(|)[]\</code></emphasis> ».</para>

        <itemizedlist>
          <listitem>« <emphasis role="bold"><code>.</code></emphasis> » : représente un caractère unique.</listitem>
          <listitem>« <emphasis role="bold"><code>?+*</code></emphasis> » : signifit respectivement zero ou un caractère, un ou plusieurs caractères, zero ou plusieurs caractères.</listitem>
          <listitem>« <emphasis role="bold"><code>(|)</code></emphasis> » : utilisé pour grouper et les substitutions, la barre verticale est utilisé comme opération logique OU.</listitem>
          <listitem>« <emphasis role="bold"><code>[^]</code></emphasis> » : utilisé pour comparer un caractère à un champ de caractères normaux et spéciaux, le circonflexe est utilisé au début comme une négation.</listitem>
          <listitem>« <emphasis role="bold"><code>\</code></emphasis> » : échappe un caractère spécial.</listitem>
        </itemizedlist>

        <para>Classe de caractères de bases alphanumérique : « <emphasis role="bold"><code>A-Za-z0-9</code></emphasis> ». Les classes de caractères sont utilisées à l'intérieur des crochets et représentent plusieurs caractères.</para>


        <sect4 id="regexes-examples">
          <title>Exemples</title>

          <itemizedlist>
            <listitem>« <emphasis role="bold"><code>bug ?#?[0-9]+</code></emphasis> » : texte « <emphasis>bug</emphasis> », zero ou un espace, zero ou un caractère dieze, et un ou plusieurs chiffres.</listitem>
            <listitem>« <emphasis role="bold"><code>(http|ftp).+\.(jpg|png|gif)</code></emphasis> » : texte « <emphasis>http</emphasis> » ou « <emphasis>ftp</emphasis> », un ou plusieurs caractères, un point, et le texte « <emphasis>jpg</emphasis> », « <emphasis>png</emphasis> » ou « <emphasis>gif</emphasis> ».</listitem>
            <listitem>« <emphasis role="bold"><code>http://.{120}[^ ]+</code></emphasis> » : texte « <emphasis>http://</emphasis> », 120 caractères, et un ou plusieurs caractères à l'exception d'un espace.</listitem>
          </itemizedlist>
        </sect4>

        <sect4 id="regexes-external-ressource">
          <title>Ressource externe</title>

          <para>Consultez cette <ulink type="http" url="http://en.wikipedia.org/wiki/Regular_expression">article Wikipedia</ulink> pour avoir des informations sur les expressions régulières.</para>
        </sect4>
      </sect3>

      <sect3 id="command">
        <title>Commande</title>

        <para>Une commande peut réutiliser une ou plusieurs substitutions depuis l'expression régulière. Les substitutions sont représentées par « <emphasis role="bold"><code>\&lt;numéro&gt;</code></emphasis> » où &lt;numéro&gt; correspond au sous-motif entre parenthèses ou 0 pour le texte complet.</para>

        <para>Par exemple, dans le simple motif « <emphasis role="bold"><code>bug #(123)</code></emphasis> » il est possible d'utiliser « <emphasis role="bold"><code>\0</code></emphasis> » pour le texte « bug #123 » et « <emphasis role="bold"><code>\1</code></emphasis> » pour le texte « 123 ». Pour la commande « <code>exo-open http://host/\1</code> », la vraie commande exécutée serait « <code>exo-open http://host/123</code> ».</para>
      </sect3>
    </sect2>

    <sect2 id="xfconf">
      <title>Xfconf</title>

      <para>@PACKAGE_NAME@ utilise Xfconf pour stocker ses paramètres. Ceci vous donne la possibilité de changer un paramètre avec l'outil <application>xfconf-query</application> ou <application>xfce4-settings-editor</application>. Le canal est <constant>xfce4-panel</constant> et la propriété de base est <constant>/plugins/clipman</constant>. Le tableau ci-dessous liste toutes les propriétés avec leurs valeurs possible :</para>

      <table frame="all"><title>Propriétés Xfconf</title>
      <tgroup cols="4" align="left">
      <thead>
      <row>
        <entry>Propriété</entry>
        <entry>Type</entry>
        <entry>Défault</entry>
        <entry>Valeurs</entry>
      </row>
      </thead>
      <tbody><row><entry>/settings/add-primary-clipboard</entry><entry>bool</entry><entry>false</entry><entry>true pour synchroniser le presse-papier primaire avec le presse-paper par défaut</entry></row><row><entry>/settings/enable-actions</entry><entry>bool</entry><entry>false</entry><entry>true pour activer les actions</entry></row><row><entry>/settings/history-ignore-primary-clipboard</entry><entry>bool</entry><entry>false</entry><entry>true pour exclure le presse-papier primaire de l'historique</entry></row> false <row><entry>/settings/max-images-in-history</entry><entry>uint</entry><entry>0</entry><entry>0-5 quantité d'images dans l'historique</entry></row><row><entry>/settings/max-texts-in-history</entry><entry>uint</entry><entry>10</entry><entry>5-100 quantité de textes dans l'historique</entry></row><row><entry>/settings/save-on-quit</entry><entry>bool</entry><entry>true</entry><entry>true pour restaurer l'historique à chaque nouvelle session</entry></row></tbody>
      </tgroup>
      </table>

      <para>Pour modifier un paramètre depuis un terminal lancez la commande :</para>

      <literal><![CDATA[xfconf-query -c xfce4-panel -p /plugins/clipman/<property> -s <value>]]></literal>
    </sect2>
  </sect1>

  <sect1 id="support">
    <title>Support</title>

    <para>Pour rapporter une anomalie ou une requête utilisez le système de suivi de bogues à l'adresse <ulink type="http" url="@PACKAGE_BUGREPORT@">@PACKAGE_BUGREPORT@</ulink>. Si vous avez des questions sur l'usage de ce logiciel, veuillez contacter la <ulink type="http" url="http://foo-projects.org/mailman/listinfo/xfce">liste de diffusion Xfce</ulink> ou pointez votre client IRC sur <emphasis role="bold">irc.freenode.net</emphasis>, joignez le salon de discussion <emphasis role="bold">#xfce</emphasis> et demandez pour de l'aide.</para>
  </sect1>


  <sect1 id="about">
    <title>À propos de @PACKAGE_NAME@</title>

    <para>
      @PACKAGE_NAME@ was written by Eduard Roccatello and then maintained by Nick Schermer. Nowadays it is written by
      Mike Massonnet (<email>mmassonnet@xfce.org</email>). Visit the <ulink type="http" url="http://goodies.xfce.org/projects/panel-plugins/xfce4-clipman-plugin">@PACKAGE_NAME@ Web
      site</ulink>.
    </para>

    <para>
      This documentation was written by Mike Massonnet (<email>mmassonnet@xfce.org</email>). Please send all your comments and
      suggestions regarding this manual to <email>mmassonnet@xfce.org</email>.
      
    </para>

    <para>
      This software is distributed under the terms of the <citetitle>GNU General Public License</citetitle> as published
      by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.
    </para>

    <para>
      You should have received a copy of the <citetitle>GNU General Public License</citetitle> along with this program;
      if not, write to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110, USA.
    </para>
  </sect1>

</article>
